<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gd.lms.mapper.ReportSubmitMapper">

	<!-- 학생이 제출한 과제 리스트 조회 메소드 -->
	<select id="selectReportListById" parameterType="String"
		resultType="com.gd.lms.vo.ReportSubmit">
		SELECT
		rs.report_submit_no reportSubmitNo,
		r.subject_name
		subjectName,
		rs.report_submit_title reportSubmitTitle,
		rs.report_submit_score reportScore,
		rs.create_date createDate
		FROM
		report_submit rs INNER JOIN report r
		USING(report_no)
		WHERE account_id =
		#{accountId}
	</select>
	<!-- 학생이 제출한 과제 리스트 조회 메소드 -->

	<!-- 과제 제출하기 메소드 -->
	<insert id="insertReportSubmit"
		parameterType="com.gd.lms.vo.ReportSubmit">
		INSERT INTO report_submit
		(education_no, report_no,
		report_no, account_id, report_submit_title,
		report_submit_content,
		report_submit_score, update_date, create_date )
		VALUES (#{educationNo},
		#{reportNo}, #{accountId}, #{reportSubmitTitle},
		#{reportSubmitTitle},
		#{reportSubmitContent}, #{reportSubmitScore}, NOW(), NOW())
	</insert>
	<!-- 과제 제출하기 메소드 -->

	<!-- 제출한 과제 삭제하기 -->
	<delete id="deleteReportSubmit" parameterType="int">
		DELETE FROM
		report_submit WHERE report_submit_no = #{reportNo}
	</delete>
	<!-- 제출한 과제 삭제하기 -->
</mapper>