<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gd.lms.mapper.TeacherMapper">
	<!-- accountId로 확인 강사의 lecture 리스트 -->
	<select id="selectInfoAboutTeacher" parameterType="String" resultType="Map">
		SELECT 
		t.teacher_name teacherName
		, l.lecture_active lectureActive
		, l.lecture_name lectureName
		, l.lecture_start_date lectureStartDate
		, l.lecture_end_date lectureEndDate
		FROM teacher t
		INNER JOIN lecture l
		USING(teacher_name)
		WHERE t.account_id=#{accountId}
		 <![CDATA[
        AND l.lecture_start_date <= CURDATE() AND l.lecture_end_date >= CURDATE()
        ]]>
		ORDER BY l.lecture_start_date DESC
	</select>
</mapper>